const { core } = require('./core')

module.exports = {
  get_item: async (after_school_id) => {
    const response = await core.query('PK = :p_key AND SK = :s_key', {
      ':p_key': '#METADATA#AFTER_SCHOOL',
      ':s_key': 'AFTER_SCHOOL#' +  after_school_id
    })
    return response.Items ? response.Items[0] : {}
  },
  get_all: async () => {
    const response = await core.query('PK = :p_key AND begins_with(SK, :s_key)', {
      ':p_key': '#METADATA#AFTER_SCHOOL',
      ':s_key': 'AFTER_SCHOOL#',
    })
    return response.Items
  },
}
